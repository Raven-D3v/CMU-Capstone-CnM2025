{% extends "base_login.html" %}
{% load static %}
{% block title %}Register | OneTapSOS{% endblock %}

{% block content %}
<div class="w-full sm:w-11/12 md:w-3/4 lg:w-2/3 xl:w-1/2 bg-gray-900/90 backdrop-blur-sm rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.03] transition-all duration-300 animate-neon-glow mx-auto relative z-10 my-8 sm:my-12 md:my-16">


    
    <!-- Header -->
    <div class="bg-gradient-to-br from-neps-primary via-neps-secondary to-neps-accent px-0.5 pt-5 pb-3 text-center rounded-t-xl animate-neon-glow relative">
        <img src="{% static 'img/neps_logo.png' %}" alt="NEPS Logo" class="mx-auto w-16 h-16 mb-2 transition-transform hover:scale-105 duration-300" aria-label="Malabon City Police Sub Station 5 Logo">
        <h1 class="font-orbitron font-bold text-base sm:text-lg md:text-xl text-white tracking-wide animate-glitch">Register</h1>
    </div>

    <!-- Messages -->
    {% if messages %}
    <div class="px-0.5 py-1">
        <ul class="mb-1 space-y-1 text-neps-highlight text-xs sm:text-sm">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Form -->
    <div class="px-4 py-2 bg-gray-900">
        <form method="post" class="space-y-3 sm:space-y-6" aria-label="Sub Station 5 Registration Form">
            {% csrf_token %}

            <!-- First and Last Name -->
            <div class="flex flex-col sm:flex-row sm:space-x-12">
                <div class="flex-1 flex flex-col">
                    <label for="id_first_name" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">First Name:</label>
                    <input type="text" id="id_first_name" name="first_name" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
                </div>
                <div class="flex-1 flex flex-col mt-1.5 sm:mt-0">
                    <label for="id_last_name" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Last Name:</label>
                    <input type="text" id="id_last_name" name="last_name" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
                </div>
            </div>

            <!-- Email -->
            <div class="flex flex-col">
                <label for="id_email" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Email:</label>
                <input type="email" id="id_email" name="email" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
            </div>

            <!-- Phone Number -->
            <div class="flex flex-col">
                <label for="id_phone_number" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Phone Number:</label>
                <input type="tel" id="id_phone_number" name="phone_number" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
            </div>

            <!-- Police ID -->
            <div class="flex flex-col">
                <label for="id_police_id" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Police ID:</label>
                <input type="text" id="id_police_id" name="police_id" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
            </div>

            <!-- Rank -->
            <div class="flex flex-col">
                <label for="id_rank" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Rank:</label>
                <select id="id_rank" name="rank" 
                    class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md 
                        focus:outline-none focus:ring-2 focus:ring-neps-secondary 
                        focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm 
                        transition-all duration-300" required>
                    {% for group, ranks in form.fields.rank.choices %}
                        <optgroup label="{{ group }}">
                            {% for value, label in ranks %}
                                <option value="{{ value }}" {% if form.rank.value == value %}selected{% endif %}>
                                    {{ label }}
                                </option>
                            {% endfor %}
                        </optgroup>
                    {% endfor %}
                </select>
            </div>


            <!-- Passwords -->
            <div class="flex flex-col sm:flex-row sm:space-x-12">
                <div class="flex-1 flex flex-col mt-1.5 sm:mt-0">
                    <label for="id_password1" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Password:</label>
                    <input type="password" id="id_password1" name="password1" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
                </div>
                <div class="flex-1 flex flex-col mt-1.5 sm:mt-0">
                    <label for="id_password2" class="mb-1 font-medium text-gray-300 font-inter text-xs sm:text-sm">Confirm Password:</label>
                    <input type="password" id="id_password2" name="password2" class="w-full p-0.25 bg-gray-950/50 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-neps-secondary focus:shadow-md hover:shadow-sm text-white font-inter text-xs sm:text-sm transition-all duration-300" required>
                </div>
            </div>

            <!-- Non-field errors -->
            {% if form.non_field_errors %}
            <div class="px-0.5 text-red-500 text-xs sm:text-sm">
                {{ form.non_field_errors }}
            </div>
            {% endif %}

            <!-- Submit Button -->
            <div class="text-center mt-8">
                <button type="submit" 
                    class="w-full sm:w-48 bg-gradient-to-r from-neps-primary via-neps-secondary to-neps-accent text-white py-2 rounded-md font-orbitron font-semibold text-sm sm:text-base transition-all duration-300 shadow-md hover:shadow-xl hover:scale-[1.03] animate-neon-glow hover:animate-pulse"
                    aria-label="Register">
                    Register
                </button>
            </div>

        </form>
    </div>

    <!-- Footer inside card -->
    <div class="bg-gray-950 text-center text-gray-400 border-t border-gray-800 text-xs sm:text-sm rounded-b-xl font-inter font-medium py-1.5 relative overflow-hidden hover:shadow-[0_0_20px_rgba(79,70,229,0.6)] transition-shadow duration-300 animate-neon-glow">
        <!-- Oscillating Neon Accent Line -->
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-neps-primary via-neps-secondary to-neps-accent animate-pulse"></div>
        &copy; 2025 OneTapSOS | <span id="current-time"></span>
    </div>
</div>

<script>
    function updateTime() {
        const now = new Date();
        document.getElementById('current-time').textContent = now.toLocaleString('en-US', { timeZone: 'America/Los_Angeles', month: 'short', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit', hour12: true });
    }
    setInterval(updateTime, 1000);
    updateTime(); // Initial call
</script>
{% endblock %}
